<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8">
<title>ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ / Ø¥Ù†Ø´Ø§Ø¡ Ø­Ø³Ø§Ø¨</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<style>
*{margin:0;padding:0;box-sizing:border-box;font-family:'Segoe UI',sans-serif;}
body{
  min-height:100vh;
  display:flex;
  justify-content:center;
  align-items:center;
  background:linear-gradient(135deg,#667eea,#764ba2,#ff758c,#ff7eb3);
  background-size:400% 400%;
  animation:gradient 15s ease infinite;
}
@keyframes gradient{
  0%{background-position:0% 50%}
  50%{background-position:100% 50%}
  100%{background-position:0% 50%}
}
.container{
  background:rgba(255,255,255,0.1);
  border-radius:20px;
  box-shadow:0 8px 32px rgba(0,0,0,0.3);
  backdrop-filter:blur(10px);
  padding:2rem;
  width:90%;
  max-width:400px;
  color:white;
  transition:0.5s;
}
h2{text-align:center;margin-bottom:1.5rem;}
form{display:flex;flex-direction:column;}
input{
  padding:0.8rem 1rem;
  margin:.5rem 0;
  border:none;
  border-radius:10px;
  outline:none;
  background:rgba(255,255,255,0.2);
  color:white;
  font-size:1rem;
}
input::placeholder{color:#eee;}
button{
  margin-top:1rem;
  padding:0.8rem;
  border:none;
  border-radius:10px;
  background:#e67e22;
  color:white;
  font-size:1rem;
  cursor:pointer;
  transition:0.3s;
}
button:hover{background:#d35400;}
p{text-align:center;margin-top:1rem;}
a{color:#ffd700;text-decoration:none;cursor:pointer;}
a:hover{text-decoration:underline;}
.hidden{display:none;}
</style>
</head>
<body>
<div class="container">
  <!-- login -->
  <div id="login-box">
    <h2>ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„</h2>
    <form id="login-form">
      <input type="email" id="login-email" placeholder="Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ" required>
      <input type="password" id="login-password" placeholder="ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±" required>
      <button type="submit">Ø¯Ø®ÙˆÙ„</button>
    </form>
    <p>Ù„ÙŠØ³ Ù„Ø¯ÙŠÙƒ Ø­Ø³Ø§Ø¨ØŸ <a onclick="showRegister()">ØªØ³Ø¬ÙŠÙ„ Ø¬Ø¯ÙŠØ¯</a></p>
  </div>

  <!-- register -->
  <div id="register-box" class="hidden">
    <h2>Ø¥Ù†Ø´Ø§Ø¡ Ø­Ø³Ø§Ø¨</h2>
    <form id="register-form">
      <input type="text" id="name" placeholder="Ø§Ù„Ø§Ø³Ù… Ø§Ù„ÙƒØ§Ù…Ù„" required>
      <input type="email" id="register-email" placeholder="Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ" required>
      <input type="password" id="register-password" placeholder="ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±" required>
      <button type="submit">ØªØ³Ø¬ÙŠÙ„</button>
    </form>
    <p>Ø¹Ù†Ø¯Ùƒ Ø­Ø³Ø§Ø¨ØŸ <a onclick="showLogin()">ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„</a></p>
  </div>
</div>

<script>
// ØªØ¨Ø¯ÙŠÙ„ Ø¨ÙŠÙ† login / register
function showRegister(){
  document.getElementById("login-box").classList.add("hidden");
  document.getElementById("register-box").classList.remove("hidden");
}
function showLogin(){
  document.getElementById("register-box").classList.add("hidden");
  document.getElementById("login-box").classList.remove("hidden");
}

// Ø¬Ù„Ø¨ Ù„Ø§Ø¦Ø­Ø© Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ† Ù…Ù† localStorage
function getUsers(){
  return JSON.parse(localStorage.getItem("users")) || [];
}

// Ø­ÙØ¸ Ù„Ø§Ø¦Ø­Ø© Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ†
function saveUsers(users){
  localStorage.setItem("users",JSON.stringify(users));
}

// ØªØ³Ø¬ÙŠÙ„ Ø­Ø³Ø§Ø¨ Ø¬Ø¯ÙŠØ¯
document.getElementById("register-form").addEventListener("submit",function(e){
  e.preventDefault();
  let users=getUsers();
  const email=document.getElementById("register-email").value;
  const password=document.getElementById("register-password").value;
  const name=document.getElementById("name").value;

  // Ø§Ù„ØªØ­Ù‚Ù‚ ÙˆØ§Ø´ ÙƒØ§ÙŠÙ† Ù†ÙØ³ Ø§Ù„Ø¥ÙŠÙ…ÙŠÙ„
  if(users.some(u=>u.email===email)){
    alert("âŒ Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ Ù…Ø³Ø¬Ù„ Ù…Ù† Ù‚Ø¨Ù„");
    return;
  }

  const newUser={name,email,password};
  users.push(newUser);
  saveUsers(users);

  alert("ØªÙ… Ø§Ù„ØªØ³Ø¬ÙŠÙ„ Ø¨Ù†Ø¬Ø§Ø­ ğŸ‰");
  showLogin();
});

// ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„
document.getElementById("login-form").addEventListener("submit",function(e){
  e.preventDefault();
  const email=document.getElementById("login-email").value;
  const password=document.getElementById("login-password").value;
  const users=getUsers();

  const found=users.find(u=>u.email===email && u.password===password);
  if(found){
    localStorage.setItem("loggedUser",JSON.stringify(found));
    alert("ØªÙ… ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ âœ… Ø£Ù‡Ù„Ø§ " + found.name);
    window.location.href="index.html"; // ØºÙŠØ±Ù‡Ø§ Ù„ØµÙØ­ØªÙƒ Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©
  }else{
    alert("âŒ Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø£Ùˆ ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± ØºÙŠØ± ØµØ­ÙŠØ­Ø©");
  }
});
</script>
</body>
</html>
